<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The OmniPaxos Book</title>
                <meta name="robots" content="noindex" />
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="A User Guide, Manual, and Tutorial for the OmniPaxos library.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
                <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="foreword.html">Foreword</a></li><li class="chapter-item expanded affix "><a href="getting-started.html">Getting Started</a></li><li class="chapter-item expanded "><a href="introduction/index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="omnipaxos/index.html"><strong aria-hidden="true">2.</strong> OmniPaxos</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="omnipaxos/communication.html"><strong aria-hidden="true">2.1.</strong> Communication</a></li><li class="chapter-item expanded "><a href="omnipaxos/garbage-collection.html"><strong aria-hidden="true">2.2.</strong> Garbage Collection</a></li><li class="chapter-item expanded "><a href="omnipaxos/logging.html"><strong aria-hidden="true">2.3.</strong> Logging</a></li></ol></li><li class="chapter-item expanded "><a href="ble/index.html"><strong aria-hidden="true">3.</strong> Ballot Leader Election</a></li><li class="chapter-item expanded affix "><a href="project.html">Project Info</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">The OmniPaxos Book</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        <a href="https://github.com/haraldng/omnipaxos" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                                                
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="foreword"><a class="header" href="#foreword">Foreword</a></h1>
<p>OmniPaxos is an in-development sequence consensus library implemented in the Rust programming language.</p>
<p>Similar to Raft, the Omni-Paxos algorithm can be used to build abstractions such as a distributed log or state-machine replication. However, Omni-Paxos uses a modular design that makes it resilient to partial connectivity and provides an efficient reconfiguration that allows the new server to catch up with the log in parallel.</p>
<p>An OmniPaxos replica is implemented as a Rust <code>struct</code>. This should allow for convenient usage in general or on top of an actor framework such as <a href="https://github.com/kompics/kompact">Kompact</a>.</p>
<p>In addition to the tutorial style presentation in this book, examples of usages of OmniPaxos can be found in the <a href="https://github.com/haraldng/omnipaxos/tree/master/tests">tests</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<!-- ## Setting up Rust
It is recommended to run OmniPaxos on a *nightly* version of the Rust toolchain.

We recommend using the [rustup](https://rustup.rs/) tool to easily install the latest nightly version of rust and keep it updated. Instructions should be on the screen once rustup is downloaded.

> **Using the nightly toolchain:** Rustup can be configured to default to the nightly toolchain by running `rustup default nightly`. -->
<h2 id="cargo"><a class="header" href="#cargo">Cargo</a></h2>
<p>Add OmniPaxos to your cargo project as a dependency:</p>
<pre><code class="language-toml">[dependencies]
omnipaxos = &quot;LATEST_VERSION&quot;
</code></pre>
<!-- The latest version can be found on [crates.io](https://crates.io/crates/omnipaxos). -->
<h3 id="github-master"><a class="header" href="#github-master">Github master</a></h3>
<p>You can also point cargo to the latest <a href="https://github.com/haraldng/omnipaxos">Github</a> master version, instead of a release.
To do so add the following to your Cargo.toml instead:</p>
<pre><code class="language-toml">[dependencies]
omnipaxos = { git = &quot;https://github.com/haraldng/omnipaxos&quot; }
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>The OmniPaxos library is mainly driven by the <a href="introduction/../omnipaxos/index.html"><strong>OmniPaxos</strong></a> and <a href="introduction/../ble/index.html"><strong>Ballot Leader Election</strong></a> (<em>BLE</em>) structs.  These are plain Rust structs and the user therefore needs to provide a network implementation themselves to actually send and receive messages. In this tutorial we will show how a user should interact with these structs in order to implement a strongly consistent, replicated log. This tutorial will focus on how to use the library and showcase its features. </p>
<!-- For the properties and advantages of OmniPaxos in comparison to other similar protocols, we refer to the Omni-Paxos paper. --><div style="break-before: page; page-break-before: always;"></div><h1 id="omnipaxos"><a class="header" href="#omnipaxos">OmniPaxos</a></h1>
<p>Each server in the cluster should have a local instance of the  <code>OmniPaxos</code> struct. <code>OmniPaxos</code> maintains a local state of the replicated log, handles incoming messages and produces outgoing messages that the user has to fetch and send using their network implementation. The user also has to fetch the decided entries that are guaranteed to be strongly consistent and linearizable, and therefore also safe to be used in a higher-level application.</p>
<h2 id="example-key-value-store"><a class="header" href="#example-key-value-store">Example: Key-Value store</a></h2>
<p>As a guide for this tutorial, we will use OmniPaxos to implement a replicated log for the purpose of a consistent Key-Value store. </p>
<p>We begin by defining the type that we want our log entries to consist of:</p>
<pre><code class="language-rust edition2018 no_run noplaypen">pub struct KeyValue {
    pub key: String,
    pub value: u64
}
</code></pre>
<h2 id="storage"><a class="header" href="#storage">Storage</a></h2>
<p>The replicated log can be stored using any underlying implementation provided by the user. OmniPaxos only requires the user to implement the traits <code>PaxosState</code> and <code>Sequence&lt;T&gt;</code>. The <code>PaxosState</code> maintains the internal state of the protocol, while <code>Sequence&lt;T&gt;</code> maintains the actual replicated log. In our example, <code>T</code> is <code>KeyValue</code>. The storage is split into these two traits since <code>PaxosState</code> stores small values such as indexes, while <code>Sequence&lt;T&gt;</code> stores larger data (the log entries). Thus it is possible to tailor-fit the implementations respectively. </p>
<p>OmniPaxos provides an in-memory storage implementation in the structs <code>MemoryState</code> and <code>MemorySequence&lt;T&gt;</code>.</p>
<h2 id="creating-an-omnipaxos-instance"><a class="header" href="#creating-an-omnipaxos-instance">Creating an OmniPaxos instance</a></h2>
<p>The constructor of <code>OmniPaxos</code> has the following parameters.</p>
<pre><code class="language-rust edition2018 no_run noplaypen">OmniPaxos::with(
    config_id: u32,                                 // the configuration id. See the section &quot;Reconfiguration&quot; in `Communication`.
    pid: u64,                                       // the unique identifier of this server
    peers: Vec&lt;u64&gt;,                                // the PEERS of this server. I.e. this should not include `pid`
    skip_prepare_use_leader: Option&lt;Ballot&gt;,        // optimization to start with pre-determined leader after
                                                    // reconfiguration. See &quot;Reconfiguration&quot;.
    logger: Option&lt;Logger&gt;,                         // custom logger
    log_file_path: Option&lt;&amp;str&gt;,                    
)
</code></pre>
<p>Letâ€™s go ahead and create our <code>OmniPaxos</code> replica instance:</p>
<pre><code class="language-rust edition2018 no_run noplaypen">use omnipaxos::paxos::OmniPaxos;

// configuration with id 1 and the following cluster
let configuration_id = 1;
let _cluster = vec![1, 2, 3];

// create the replica 2 in this cluster (other replica instances are created similarly with pid 1 and 3 on other servers)
let my_pid = 2;
let my_peers= vec![1, 3];

let omni_paxos: OmniPaxos&lt;KeyValue, MemorySequence, MemoryState&gt; = OmniPaxos::with(
    configuration_id,
    my_pid,
    my_peers,
    storage,
    None,
    None,
    Some(&quot;omnipaxos/logs&quot;)
);
</code></pre>
<p>For convenience, OmniPaxos also features a constructor <code>OmniPaxos::with_hocon()</code> using <a href="https://vleue.com/hocon.rs/hocon/index.html">hocon</a>. One could then instead have some of the parameters in a file <code>config/server2.conf</code></p>
<pre><code class="language-json">{
    config_id: 1,
    pid: 2,
    log_file_path: &quot;/omnipaxos/logs&quot;
}
</code></pre>
<p>This can then be loaded to construct OmniPaxos:</p>
<pre><code class="language-rust edition2018 no_run noplaypen">let cfg = HoconLoader::new()
    .load_file(&quot;config/server2.conf&quot;)?
    .hocon()?;

let omni_paxos = OmniPaxos::with_hocon(
    &amp;cfg
    my_peers,
    storage,
    None,
    None,
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="communication"><a class="header" href="#communication">Communication</a></h1>
<p>As previously mentioned, the user has to send/receive messages between servers themselves. In this section, we show how the user interacts with OmniPaxos and its incoming and outgoing messages. Furthermore, we show how new log entries are proposed and handled when they get decided. </p>
<h2 id="propose-entries"><a class="header" href="#propose-entries">Propose Entries</a></h2>
<p>To propose a log entry to be replicated, the <code>OmniPaxos::propose_normal()</code> function is called (we reuse the <code>storage</code> and <code>omni_paxos</code> variables created in earlier <a href="omnipaxos/../omnipaxos/index.html">examples</a>):</p>
<pre><code class="language-rust edition2018 no_run noplaypen">let kv = KeyValue { key: String::from(&quot;a&quot;), value: &quot;123&quot; } ;   // log entry as raw bytes
omni_paxos.propose_normal(kv).expect(&quot;Failed to propose normal proposal&quot;);
</code></pre>
<p>Proposals can be pipelined without waiting for preceeding entries to be decided. Furthermore, <code>propose_normal</code> can be called on any server. If the calling server is not the leader, the proposal will be forwarded. </p>
<h2 id="incoming-and-outgoing"><a class="header" href="#incoming-and-outgoing">Incoming and Outgoing</a></h2>
<p>By proposing a log entry, the <code>OmniPaxos</code> instance will produce outgoing messages to its peers. The outgoing messages can be accessed by calling <code>OmniPaxos::get_outgoing_msgs()</code>. These messages then need to be sent to the intended server by the user themselves on the network layer. An incoming message should then be handled with the function <code>OmniPaxos::handle()</code>. Handling the incoming message will change the state and produce outgoing messages of <code>OmniPaxos</code> according to the protocol.</p>
<pre><code class="language-rust edition2018 no_run noplaypen">// send outgoing messages (this should be called periodically, e.g. every 500ms)
for out_msg: Message&lt;KeyValue&gt; in omni_paxos.get_outgoings_msgs() {
    let receiver = out_msg.to;
    // send out_msg to receiver on network layer
}

// handle incoming message on network layer
let msg: PaxosMsg:&lt;KeyValue&gt; = ...;    // message received to this server.
omni_paxos.handle(msg);
</code></pre>
<h2 id="decided-entries"><a class="header" href="#decided-entries">Decided Entries</a></h2>
<p>Once an entry has been appended to the log on a majority of the cluster, it has been <strong>decided</strong>. The decided entries can be fetched via <code>OmniPaxos::get_latest_decided_entries()</code> and are safe to be handled by a higher level application that requires strong consistency.</p>
<pre><code class="language-rust edition2018 no_run noplaypen">// handle decided log entries periodically
for entry in omni_paxos.get_latest_decided_entries() {
    match entry {
        Entry::Normal(e) =&gt; {    // handle decided normal log entry
            // e is of type KeyValue that was proposed.
        }
        _ =&gt; { /* see next section about reconfiguration */ }
    }
}
</code></pre>
<blockquote>
<p><strong>Note</strong> <code>get_latest_decided_entries()</code> returns all the decided elements <strong>since the last time it was called</strong> and is thus intended to be called periodically. To get all decided entries (since the start), use <code>get_decided_entries()</code></p>
</blockquote>
<h2 id="reconfiguration"><a class="header" href="#reconfiguration">Reconfiguration</a></h2>
<p>Reconfiguration can be used to add or remove servers from the cluster. To propose a reconfiguration, use <code>OmniPaxos::propose_reconfiguration()</code>:</p>
<pre><code class="language-rust edition2018 no_run noplaypen">let new_cluster = vec![1, 2, 4];    // oops replica 3 appears to have crashed... let's replace it with a new replica 4
omni_paxos.propose_reconfiguration(new_cluster, None).expect(&quot;Failed to propose reconfiguration&quot;);

...

// handle decided log entries periodically
for entry in omni_paxos.get_latest_decided_entries() {
    match entry {
        Entry::Normal(_) =&gt; { /* See previous section */ }
    
        Entry::StopSign(ss) =&gt; {    // handle completed reconfiguration
            let next_configuration_id = ss.config_id;
            let next_cluster = ss.nodes;
            let next_leader = ss.skip_prepare_use_leader;   // if Some(), then the replica instances in the new
                                                            // configuration should use this in their constructor
        }
    }
}

</code></pre>
<p>Upon deciding a <code>StopSign</code>, the user should create a new replica instance with the new configuration id if the corresponding server is in <code>StopSign.nodes</code>. Furthermore, the user should also notify and migrate the log to any new servers joining the cluster. To stop the old instance and get the final log in the old configuration, one can call:</p>
<pre><code class="language-rust edition2018 no_run noplaypen">let log: Vec&lt;Entry&lt;KeyValue&gt;&gt; = self.omni_paxos.stop_and_get_sequence();
// notify about reconfiguration and migrate log to new servers
</code></pre>
<blockquote>
<p><strong>Note</strong> The user has to implement the log migration themselves before starting the new <code>OmniPaxos</code> instances.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="garbage-collection"><a class="header" href="#garbage-collection">Garbage Collection</a></h1>
<p>OmniPaxos offers a garbage collection feature that can be called to compact the replicated log. The <code>OmniPaxos::garbage_collect()</code> has an argument <code>Option&lt;u64&gt;</code> that specifies up to what index the log should be garbage collected. If <code>None</code>, then the minimum index accepted by ALL servers will be used as the index. The garbage collection is initiated by the leader and only completed if all servers respond that log entries up to that index has already been handled by the user. To determine if the garbage collection succeeded, the user can check the <code>garbage_collected_idx</code> field of <code>OmniPaxos</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="logging"><a class="header" href="#logging">Logging</a></h1>
<p>OmniPaxos uses the <a href="https://crates.io/crates/slog">slog</a> crate to provide system-wide logging facilities. Logging works out of the box with a default asynchronous console and file logger implementation.</p>
<p>The actual logging levels are controlled via build features. The default features correspond to <code>max_level_trace</code> and <code>release_max_level_info</code>, that is in debug builds all levels are shown, while in the release profile only <code>info</code> and more severe message are shown.</p>
<h2 id="custom-logger"><a class="header" href="#custom-logger">Custom Logger</a></h2>
<p>Sometimes the default logging configuration is not sufficient for a particular application. For example, you might need a larger queue size in the <code>Async</code> drain, or you may want to write to a file instead of the terminal.</p>
<p>The user can provide a custom implementation based on <a href="https://crates.io/crates/slog"><strong>slog</strong></a>.</p>
<blockquote>
<p><strong>Note:</strong> This applies to <a href="omnipaxos/../ble/index.html"><strong>Ballot Leader Election</strong></a> as well.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ballot-leader-election"><a class="header" href="#ballot-leader-election">Ballot Leader Election</a></h1>
<p>A unique feature of the Omni-Paxos protocol is guaranteed progress with one quorum-connected server using Ballot Leader Election (BLE). In this section, we will see how the leader election is used in OmniPaxos. Similar to <code>OmniPaxos</code>, <code>BallotLeaderElection</code> is represented as a Rust struct that should be started on every server in the cluster.</p>
<p>The BLE protocol is based on exchanging heartbeats that should be received within some expected time. To represent time, <code>BallotLeaderElection</code> uses an internal logical clock. It has a <code>tick()</code> function that progresses its logical clock. The expected time that heartbeats should be received in is specified by <code>hb_delay</code> of the <code>BallotLeaderElection</code> constructor:</p>
<pre><code class="language-rust edition2018 no_run noplaypen">BallotLeaderElection::with(
    peers: Vec&lt;u64&gt;,        // the PEERS of this server. I.e. this should not include `pid`    
    pid: u64,               // the unique identifier of this server
    hb_delay: u64,          // the delay that is waited for heartbeat responses from peers. Measured in number of `tick()` calls.
    priority: Option&lt;u64&gt;,  // custom priority parameter.
    initial_leader: Option&lt;Ballot&gt;,     // initial leader
    initial_delay_factor: Option&lt;u64&gt;,  // allows for using a shorter delay when electing the initial leader.
    logger: Option&lt;Logger&gt;,
    log_file_path: Option&lt;&amp;str&gt;,
)
</code></pre>
<blockquote>
<p><strong>Note</strong> The <code>priority</code> parameter allows user to give desired servers a higher priority to become the leader. This is a best-effort approach upon a leader election or failure.</p>
</blockquote>
<p>For instance, we can create a BLE instance with a timeout of 800ms that is ticked every 100ms. The user has to call <code>tick()</code> every 100ms themselves and check if a leader has been elected. Once a leader is elected, <code>tick()</code> will return an instance of the struct <code>Leader&lt;Ballot&gt;</code>. This should be passed to the corresponding local <code>OmniPaxos</code> instance using <code>OmniPaxos::handle_leader()</code>, which will in turn use the <code>Ballot</code> as a round number for log replication.</p>
<pre><code class="language-rust edition2018 no_run noplaypen">use omnipaxos::paxos::OmniPaxos;
use omnipaxos::leader_election::ballot_leader_election::*;

let _cluster = vec![1, 2, 3];
let my_pid = 2;
let my_peers= vec![1, 3];

let hb_delay = 8;                     // 8 ticks delay 
let initial_delay_factor = Some(2);   // first hb_delay will be 8/2 = 4 ticks i.e. 400ms.

let omni_paxos = OmniPaxos::with(... , my_pid, my_peers, ...); // see `OmniPaxos` section

let ble = BallotLeaderElection::with(
    my_peers,
    my_pid,
    None,
    hb_delay,
    None,
    initial_delay_factor,
    None,
    None,
)

// every 100ms call the following
if let Some(leader) = ble.tick() {
    omni_paxos.handle_leader(leader);
}

for out_msg in ble.get_outgoings_msgs() {
    let receiver = out_msg.to;
    // send out_msg to receiver on network layer
}

// handle incoming message on network layer
let msg: BLEMessage = ...;    // message received to this server.
ble.handle(msg);
</code></pre>
<p>As seen in the example, incoming and outgoing messages are handled in the same manner as in <code>OmniPaxos</code>. Furthermore, BLE also has a constructor that uses hocon: <code>with_hocon()</code>. </p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="project-info"><a class="header" href="#project-info">Project Info</a></h1>
<p>While OmniPaxos is primarily being developed at the <a href="https://www.kth.se/en">KTH Royal Institute of Technology</a> and <a href="https://www.ri.se/en">RISE Research Institutes of Sweden</a> in Stockholm, Sweden, we do wish to thank all <a href="https://github.com/haraldng/omnipaxos/graphs/contributors">contributors</a>.</p>
<!-- ## Releases

OmniPaxos releases are hosted on [crates.io](https://crates.io/crates/omnipaxos). -->
<!-- ## API Documentation

OmniPaxos API docs are hosted on [docs.rs](https://docs.rs/kompact/latest/kompact/). -->
<h2 id="sources--issues"><a class="header" href="#sources--issues">Sources &amp; Issues</a></h2>
<p>The sources for OmniPaxos can be found on <a href="https://github.com/haraldng/omnipaxos">Github</a>.</p>
<p>All issues and requests related to OmniPaxos should be posted there.</p>
<h2 id="bleeding-edge"><a class="header" href="#bleeding-edge">Bleeding Edge</a></h2>
<p>This tutorial is built off the <code>master</code> branch on GitHub and thus tends to be a bit ahead of what is available in a release.
If you would like to try out new features before they are released, you can add the following to your <code>Cargo.toml</code>:</p>
<pre><code class="language-toml">omnipaxos = { git = &quot;https://github.com/haraldng/omnipaxos&quot;, branch = &quot;master&quot; }
</code></pre>
<h3 id="documentation"><a class="header" href="#documentation">Documentation</a></h3>
<p>If you need the API docs for the latest master run the following at an appropriate location (e.g., outside another local git repository):</p>
<pre><code class="language-bash">git checkout https://github.com/haraldng/omnipaxos
cd omnipaxos
cargo doc --open --no-deps
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>
                
    </body>
</html>
